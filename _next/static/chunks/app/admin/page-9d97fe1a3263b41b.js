(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{550:(e,s,n)=>{"use strict";n.d(s,{db:()=>o,j:()=>l,y:()=>r});var a=n(2078),t=n(9708),i=n(9253);let r=(0,a.Dk)().length?(0,a.Dk)()[0]:(0,a.Wp)({apiKey:"AIzaSyCwVnyj4j9vVEu88BXKxd6-4sNa-mkduVI",authDomain:"ask-me-anything-voidash.firebaseapp.com",projectId:"ask-me-anything-voidash",storageBucket:"ask-me-anything-voidash.firebasestorage.app",messagingSenderId:"695897255699",appId:"1:695897255699:web:fef029a271b72ee38f74e6",measurementId:"G-43LRB0V3BW"}),o=(0,t.aU)(r),l=(0,i.xI)(r)},661:(e,s,n)=>{"use strict";n.d(s,{default:()=>d});var a=n(5155),t=n(2115),i=n(9708),r=n(9253),o=n(550);n(1527);let l=(0,r.xI)(o.y),c=new r.HF;function d(){let[e,s]=(0,t.useState)([]),[n,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!0),[x,p]=(0,t.useState)(null);async function j(){try{let e=(await (0,r.df)(l,c)).user;p(e),h("ashish.thapa477@gmail.com"===e.email),console.log("Signed in as:",e.displayName)}catch(e){console.error("Error signing in with Google:",e)}}async function w(e,s){try{let n=(0,i.H9)(o.db,"questions",e);await (0,i.mZ)(n,{Answer:s}),d(!0)}catch(e){console.error("Error updating answer:",e)}}async function y(e){try{let n=(0,i.H9)(o.db,"questions",e);await (0,i.kd)(n),s(s=>s.filter(s=>s.id!==e)),console.log("Question with ID ".concat(e," has been deleted."))}catch(e){console.error("Error deleting question:",e)}}return(0,t.useEffect)(()=>{!async function(){try{let e=(await (0,i.GG)((0,i.rJ)(o.db,"questions"))).docs.map(e=>({id:e.id,...e.data()}));s(e)}catch(e){console.error("Error fetching questions:",e)}finally{g(!1)}}()},[n]),(0,a.jsxs)("div",{children:[x?(0,a.jsxs)("div",{className:"auth-section",children:[(0,a.jsxs)("p",{style:{marginBottom:"8px"},children:["Signed in as: ",(0,a.jsx)("strong",{children:x.displayName})," (",x.email,")"]}),!u&&(0,a.jsx)("p",{style:{color:"#d32f2f",marginBottom:"8px"},children:"⚠️ You are not authorized to manage questions. Only ashish.thapa477@gmail.com can access admin features."}),(0,a.jsx)("button",{onClick:function(){(0,r.CI)(l),p(null),h(!1)},className:"sign-out-button",children:"Sign Out"})]}):(0,a.jsxs)("div",{className:"auth-section",children:[(0,a.jsx)("h3",{children:"Sign In Required"}),(0,a.jsx)("p",{style:{marginBottom:"16px",color:"rgba(100, 100, 100, 0.8)"},children:"You need to sign in with an authorized Google account to access the admin panel."}),(0,a.jsx)("button",{onClick:j,className:"sign-in-button",children:"Sign in with Google"})]}),m?(0,a.jsx)("div",{className:"loading",children:"Loading questions..."}):(0,a.jsxs)("div",{className:"questions-container",children:[(0,a.jsxs)("h2",{style:{marginTop:"40px",marginBottom:"20px"},children:["All Questions (",e.length,")"]}),0===e.length?(0,a.jsx)("p",{style:{color:"rgba(100, 100, 100, 0.6)"},children:"No questions yet."}):e.map(e=>{var s;return(0,a.jsxs)("div",{className:"admin-qna",children:[(0,a.jsxs)("div",{className:"question-header",children:[(0,a.jsx)("div",{className:"question-text",children:e.Question}),(0,a.jsxs)("div",{className:"asker-info",children:[(0,a.jsx)("div",{className:"avatar",children:(null==(s=e.Name[0])?void 0:s.toUpperCase())||"?"}),(0,a.jsx)("div",{className:"name",children:e.Name})]})]}),(0,a.jsxs)("div",{className:"answer-section",children:[(0,a.jsx)("div",{className:"answer-label",children:""!==e.Answer?"Answer:":"Not Answered Yet"}),e.Answer&&(0,a.jsx)("div",{className:"current-answer",children:e.Answer}),u&&(0,a.jsxs)("div",{className:"admin-controls",children:[(0,a.jsx)("textarea",{className:"answer-textarea",placeholder:"Type an answer...",defaultValue:e.Answer,onFocus:()=>d(!1),onBlur:s=>{s.target.value!==e.Answer&&w(e.id,s.target.value)}}),(0,a.jsx)("button",{className:"delete-button",onClick:()=>{window.confirm("Are you sure you want to delete this question?")&&y(e.id)},children:"Delete Question"})]})]})]},e.id)})]})]})}},1527:()=>{},7027:(e,s,n)=>{Promise.resolve().then(n.bind(n,661)),Promise.resolve().then(n.t.bind(n,2619,23))}},e=>{e.O(0,[324,992,138,619,477,441,255,358],()=>e(e.s=7027)),_N_E=e.O()}]);