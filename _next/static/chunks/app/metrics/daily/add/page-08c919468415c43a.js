(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{2698:(e,i,r)=>{Promise.resolve().then(r.bind(r,6300)),Promise.resolve().then(r.bind(r,6621))},6300:(e,i,r)=>{"use strict";r.d(i,{default:()=>x});var o=r(5155),t=r(63),n=r(2902),s=r(8063),d=r(3510),l=r(6707),a=r(1419),c=r(2619),p=r.n(c);function x(){let{user:e,loading:i}=(0,l.A)();(0,t.useRouter)();let r=(0,t.useSearchParams)().get("date"),{date:c,logged:x,tasksMarkdown:h,gymSession:g,weight:u,caloriesTracked:y,status:m,existingLogId:v,weeklyLog:j,previousDayLog:b,taskStats:f,setDate:k,setLogged:w,setTasksMarkdown:D,setGymSession:S,setWeight:C,setCaloriesTracked:B,saveLog:z}=(0,n.V)((null==e?void 0:e.uid)||null,r||void 0),{dueItems:R,reviewItem:W,getStats:T}=(0,s.E)((null==e?void 0:e.uid)||null);async function A(e){e.preventDefault(),await z()}async function L(e,i){await W(e,i)}return(T(),i)?(0,o.jsx)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 20px",textAlign:"center"},children:(0,o.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})}):e?(0,o.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 20px"},children:[(0,o.jsxs)("nav",{style:{marginBottom:"20px",display:"flex",gap:"15px",alignItems:"center"},children:[(0,o.jsx)(p(),{href:"/metrics",style:{color:"#0066cc"},children:"← Back to Metrics"}),(0,o.jsx)("span",{style:{color:"var(--border-color)"},children:"|"}),(0,o.jsx)(p(),{href:"/metrics/daily/logs",style:{color:"#0066cc",padding:"6px 12px",border:"1px solid #0066cc",borderRadius:"4px",textDecoration:"none",fontSize:"14px"},children:"View All Logs"})]}),(0,o.jsx)("h1",{style:{marginBottom:"10px"},children:v?"Edit Daily Log":"Add Daily Log"}),(0,o.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"30px"},children:"Track your day with markdown checkboxes and tags"}),(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",marginBottom:"30px",fontSize:"14px"},children:[(0,o.jsx)("strong",{children:"How to use tags:"}),(0,o.jsxs)("ul",{style:{marginTop:"10px",paddingLeft:"20px",lineHeight:"1.8"},children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#learn"})," - learning artifacts (papers, code, proofs)"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#review"})," - revision points reviewed"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#new-review"})," - new revision notes created"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#produce"})," - public outputs (blog, project, etc.)"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#relationship"})," - new interactions"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#family"})," - family calls"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#conflict-resolved"})," / ",(0,o.jsx)("code",{children:"#conflict-unresolved"})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"#learning-todo"}),", ",(0,o.jsx)("code",{children:"#producer-todo"}),", ",(0,o.jsx)("code",{children:"#finance-todo"}),", ",(0,o.jsx)("code",{children:"#fitness-todo"}),", ",(0,o.jsx)("code",{children:"#relationship-todo"})," - add to backlog"]})]})]}),R.length>0&&(0,o.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,o.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"500",margin:0},children:["Review (",R.length,")"]}),(0,o.jsx)(p(),{href:"/metrics/learning/review",style:{color:"#0066cc",fontSize:"14px",textDecoration:"none"},children:"Full page →"})]}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:R.map(e=>{let i=(0,a.IA)(e);return(0,o.jsxs)("div",{style:{borderLeft:"3px solid var(--border-color)",paddingLeft:"12px"},children:[(0,o.jsx)("div",{style:{fontSize:"14px",marginBottom:"8px"},children:e.text}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"6px"},children:[(0,o.jsxs)("button",{onClick:()=>L(e.id,"again"),style:{padding:"8px 6px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:["Again",(0,o.jsx)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:(0,a.vy)(i.again)})]}),(0,o.jsxs)("button",{onClick:()=>L(e.id,"hard"),style:{padding:"8px 6px",background:"#f59e0b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:["Hard",(0,o.jsx)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:(0,a.vy)(i.hard)})]}),(0,o.jsxs)("button",{onClick:()=>L(e.id,"good"),style:{padding:"8px 6px",background:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:["Good",(0,o.jsx)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:(0,a.vy)(i.good)})]}),(0,o.jsxs)("button",{onClick:()=>L(e.id,"easy"),style:{padding:"8px 6px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:["Easy",(0,o.jsx)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:(0,a.vy)(i.easy)})]})]})]},e.id)})})]}),(0,o.jsxs)("form",{onSubmit:A,children:[(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Date"}),(0,o.jsx)("input",{type:"date",value:c,onChange:e=>k(e.target.value),style:{padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",checked:x,onChange:e=>w(e.target.checked)}),(0,o.jsx)("span",{children:"Day logged"})]})}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Tasks (markdown with checkboxes)"}),(0,o.jsx)("textarea",{value:h,onChange:e=>D(e.target.value),placeholder:"- [x] Read paper on distributed systems #learn - [ ] Review algorithms flashcards #review - [x] Ship blog post #produce",style:{width:"100%",minHeight:"300px",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)",fontFamily:"monospace",fontSize:"14px",resize:"vertical"}})]}),j&&(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"15px",borderRadius:"4px",marginBottom:"20px",border:"1px solid var(--border-color)"},children:[(0,o.jsx)("h3",{style:{marginBottom:"10px",fontSize:"16px"},children:"\uD83D\uDCC5 This Week's Focus"}),(0,o.jsxs)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px"},children:["Week of ",j.weekStart]}),(0,o.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"13px",margin:0,lineHeight:"1.6"},children:j.tasksMarkdown})]}),b&&(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"15px",borderRadius:"4px",marginBottom:"20px",border:"1px solid var(--border-color)"},children:[(0,o.jsx)("h3",{style:{marginBottom:"10px",fontSize:"16px"},children:"⏮️ Previous Day"}),(0,o.jsxs)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px"},children:[b.date,(()=>{let e=(0,d.Zg)(b.tasksMarkdown),i=e.filter(e=>e.completed).length;return" • ".concat(i,"/").concat(e.length," tasks completed")})()]}),(0,o.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"13px",margin:0,lineHeight:"1.6"},children:b.tasksMarkdown})]}),f&&(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"15px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:[(0,o.jsx)("strong",{children:"Stats Preview:"}),(0,o.jsxs)("div",{style:{marginTop:"10px",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px"},children:[(0,o.jsxs)("div",{children:["✓ ",f.completedTasks,"/",f.totalTasks," tasks completed"]}),f.learningArtifacts>0&&(0,o.jsxs)("div",{children:["\uD83D\uDCDA ",f.learningArtifacts," learning artifacts"]}),f.revisionNotesCreated>0&&(0,o.jsxs)("div",{children:["\uD83D\uDCDD ",f.revisionNotesCreated," new revision notes"]}),f.revisionPointsReviewed>0&&(0,o.jsxs)("div",{children:["\uD83D\uDD04 ",f.revisionPointsReviewed," revision points reviewed"]}),f.publicOutputs>0&&(0,o.jsxs)("div",{children:["\uD83D\uDE80 ",f.publicOutputs," public outputs"]}),f.newInteractions>0&&(0,o.jsxs)("div",{children:["\uD83D\uDC65 ",f.newInteractions," new interactions"]}),f.familyCalls>0&&(0,o.jsxs)("div",{children:["\uD83D\uDCDE ",f.familyCalls," family calls"]}),f.conflictsResolved>0&&(0,o.jsxs)("div",{children:["✅ ",f.conflictsResolved," conflicts resolved"]}),f.unresolvedConflicts>0&&(0,o.jsxs)("div",{children:["⚠️ ",f.unresolvedConflicts," unresolved conflicts"]}),f.todosAdded>0&&(0,o.jsxs)("div",{children:["\uD83D\uDCCB ",f.todosAdded," todos will be added"]})]})]}),(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",checked:g,onChange:e=>S(e.target.checked)}),(0,o.jsx)("span",{children:"Gym session"})]})}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Weight (kg) - optional"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:u||"",onChange:e=>C(e.target.value?parseFloat(e.target.value):void 0),placeholder:"70.5",style:{width:"150px",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",checked:y,onChange:e=>B(e.target.checked)}),(0,o.jsx)("span",{children:"Calories tracked"})]})}),(0,o.jsx)("button",{type:"submit",style:{padding:"12px 24px",background:"#0066cc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500",fontSize:"16px"},children:v?"Update Log":"Save Log"}),m&&(0,o.jsx)("span",{style:{marginLeft:"15px",color:m.includes("Error")?"#ef4444":"#22c55e"},children:m})]})]}):(0,o.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 20px"},children:[(0,o.jsx)("h1",{style:{marginBottom:"10px"},children:"Authentication Required"}),(0,o.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:"You must be logged in to log daily metrics."}),(0,o.jsx)(p(),{href:"/metrics/login",style:{color:"#0066cc",fontSize:"16px"},children:"→ Go to Login"})]})}}},e=>{e.O(0,[2992,7138,2619,1477,7332,2902,8441,1255,7358],()=>e(e.s=2698)),_N_E=e.O()}]);