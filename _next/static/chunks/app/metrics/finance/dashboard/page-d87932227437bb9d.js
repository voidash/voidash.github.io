(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{63:(e,t,r)=>{"use strict";var o=r(7260);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},550:(e,t,r)=>{"use strict";r.d(t,{db:()=>i,j:()=>s,y:()=>n});var o=r(2078),d=r(9708),a=r(9253);let n=(0,o.Dk)().length?(0,o.Dk)()[0]:(0,o.Wp)({apiKey:"AIzaSyCwVnyj4j9vVEu88BXKxd6-4sNa-mkduVI",authDomain:"ask-me-anything-voidash.firebaseapp.com",projectId:"ask-me-anything-voidash",storageBucket:"ask-me-anything-voidash.firebasestorage.app",messagingSenderId:"695897255699",appId:"1:695897255699:web:fef029a271b72ee38f74e6",measurementId:"G-43LRB0V3BW"}),i=(0,d.aU)(n),s=(0,a.xI)(n)},5379:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,N:()=>c});var o=r(2115),d=(e,t,r,o,d,a,n,i)=>{let s=document.documentElement,l=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,o=r&&a?d.map(e=>a[e]||e):d;r?(s.classList.remove(...o),s.classList.add(a&&a[t]?a[t]:t)):s.setAttribute(e,t)}),r=t,i&&l.includes(r)&&(s.style.colorScheme=r)}if(o)c(o);else try{let e=localStorage.getItem(t)||r,o=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(o)}catch(e){}},a=["light","dark"],n="(prefers-color-scheme: dark)",i=o.createContext(void 0),s={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=o.useContext(i))?e:s},c=e=>o.useContext(i)?o.createElement(o.Fragment,null,e.children):o.createElement(x,{...e}),p=["light","dark"],x=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:d=!0,enableColorScheme:s=!0,storageKey:l="theme",themes:c=p,defaultTheme:x=d?"system":"light",attribute:b="data-theme",value:m,children:v,nonce:j,scriptProps:f}=e,[w,S]=o.useState(()=>u(l,x)),[k,C]=o.useState(()=>"system"===w?y():w),R=m?Object.values(m):c,B=o.useCallback(e=>{let t=e;if(!t)return;"system"===e&&d&&(t=y());let o=m?m[t]:t,n=r?h(j):null,i=document.documentElement,l=e=>{"class"===e?(i.classList.remove(...R),o&&i.classList.add(o)):e.startsWith("data-")&&(o?i.setAttribute(e,o):i.removeAttribute(e))};if(Array.isArray(b)?b.forEach(l):l(b),s){let e=a.includes(x)?x:null,r=a.includes(t)?t:e;i.style.colorScheme=r}null==n||n()},[j]),E=o.useCallback(e=>{let t="function"==typeof e?e(w):e;S(t);try{localStorage.setItem(l,t)}catch(e){}},[w]),T=o.useCallback(e=>{C(y(e)),"system"===w&&d&&!t&&B("system")},[w,t]);o.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(T),T(e),()=>e.removeListener(T)},[T]),o.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?S(e.newValue):E(x))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),o.useEffect(()=>{B(null!=t?t:w)},[t,w]);let A=o.useMemo(()=>({theme:w,setTheme:E,forcedTheme:t,resolvedTheme:"system"===w?k:w,themes:d?[...c,"system"]:c,systemTheme:d?k:void 0}),[w,E,t,k,d,c]);return o.createElement(i.Provider,{value:A},o.createElement(g,{forcedTheme:t,storageKey:l,attribute:b,enableSystem:d,enableColorScheme:s,defaultTheme:x,value:m,themes:c,nonce:j,scriptProps:f}),v)},g=o.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:a,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:l,themes:c,nonce:p,scriptProps:x}=e,g=JSON.stringify([a,r,s,t,c,l,n,i]).slice(1,-1);return o.createElement("script",{...x,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(d.toString(),")(").concat(g,")")}})}),u=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},h=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light")},6072:(e,t,r)=>{Promise.resolve().then(r.bind(r,8652)),Promise.resolve().then(r.bind(r,6621))},6621:(e,t,r)=>{"use strict";r.d(t,{ThemeToggle:()=>n});var o=r(5155),d=r(5379),a=r(2115);function n(){let[e,t]=(0,a.useState)(!1),{theme:r,setTheme:n}=(0,d.D)();return((0,a.useEffect)(()=>{t(!0)},[]),e)?(0,o.jsx)("button",{onClick:()=>n("dark"===r?"light":"dark"),className:"theme-toggle","aria-label":"Toggle theme",children:"dark"===r?"Light":"Dark"}):null}},6707:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>s});var o=r(5155),d=r(2115),a=r(9253),n=r(550);let i=(0,d.createContext)({user:null,loading:!0,signInWithGoogle:async()=>{},logOut:async()=>{}});function s(e){let{children:t}=e,[r,s]=(0,d.useState)(null),[l,c]=(0,d.useState)(!0);(0,d.useEffect)(()=>{let e=(0,a.hg)(n.j,e=>{s(e),c(!1)});return()=>e()},[]);let p=async()=>{let e=new a.HF;await (0,a.df)(n.j,e)},x=async()=>{await (0,a.CI)(n.j)};return(0,o.jsx)(i.Provider,{value:{user:r,loading:l,signInWithGoogle:p,logOut:x},children:t})}function l(){return(0,d.useContext)(i)}},8652:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var o=r(5155),d=r(2115),a=r(63),n=r(550),i=r(9708),s=r(6707),l=r(2619),c=r.n(l);function p(){let{user:e,loading:t}=(0,s.A)(),r=(0,a.useRouter)(),[l,p]=(0,d.useState)([]),[x,g]=(0,d.useState)([]),[u,h]=(0,d.useState)([]),[y,b]=(0,d.useState)(null),[m,v]=(0,d.useState)(null),[j,f]=(0,d.useState)(null),[w,S]=(0,d.useState)(""),[k,C]=(0,d.useState)(0),[R,B]=(0,d.useState)(0),[E,T]=(0,d.useState)(0),[A,I]=(0,d.useState)(0),[z,F]=(0,d.useState)(0),[W,D]=(0,d.useState)(0),[O,V]=(0,d.useState)(.4),[L,N]=(0,d.useState)({date:new Date().toISOString().split("T")[0],store:"",amount:0,categoryId:"",notes:""}),[_,G]=(0,d.useState)({date:new Date().toISOString().split("T")[0],source:"",amount:0}),[M,P]=(0,d.useState)(""),[J,H]=(0,d.useState)(!1),[K,q]=(0,d.useState)(!0);async function U(){try{await Promise.all([Z(),X(),Y(),Q()])}catch(e){console.error("Error loading data:",e),P("Error: ".concat(e.message||"Failed to load data")),setTimeout(()=>P(""),3e3)}finally{q(!1)}}async function Z(){let e=(0,i.P)((0,i.rJ)(n.db,"expense_categories"),(0,i.My)("name","asc"));p((await (0,i.GG)(e)).docs.map(e=>({id:e.id,...e.data()})))}async function X(){let e=(0,i.P)((0,i.rJ)(n.db,"expenses"),(0,i.My)("date","desc"));g((await (0,i.GG)(e)).docs.map(e=>({id:e.id,...e.data()})))}async function Y(){let e=(0,i.P)((0,i.rJ)(n.db,"income"),(0,i.My)("date","desc"));h((await (0,i.GG)(e)).docs.map(e=>({id:e.id,...e.data()})))}async function Q(){let e=await (0,i.GG)((0,i.rJ)(n.db,"budget_targets"));if(!e.empty){let t=e.docs[0].data();b(t),C(t.weeklyIncome||0),B(t.weeklySpendCap||0),T(t.monthlyIncome||0),I(t.monthlySpendCap||0),F(t.yearlyIncome||0),D(t.yearlySpendCap||0),V(t.targetSavingsRate||.4)}}async function $(){if(!w.trim()){P("Error: Category name required"),setTimeout(()=>P(""),2e3);return}try{await (0,i.gS)((0,i.rJ)(n.db,"expense_categories"),{name:w.trim(),createdAt:new Date().toISOString()}),S(""),await Z(),P("✓ Category added"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error adding category:",e),P("Error: ".concat(e.message||"Failed to add category")),setTimeout(()=>P(""),3e3)}}async function ee(e){if(confirm("Delete this category?"))try{await (0,i.kd)((0,i.H9)(n.db,"expense_categories",e)),await Z(),P("✓ Category deleted"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error deleting category:",e),P("Error deleting category")}}async function et(){try{let e={weeklyIncome:k,weeklySpendCap:R,monthlyIncome:E,monthlySpendCap:A,yearlyIncome:z,yearlySpendCap:W,targetSavingsRate:O,updatedAt:new Date().toISOString()};for(let e of(await (0,i.GG)((0,i.rJ)(n.db,"budget_targets"))).docs)await (0,i.kd)(e.ref);await (0,i.gS)((0,i.rJ)(n.db,"budget_targets"),e),await Q(),P("✓ Budget targets saved"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error saving budget targets:",e),P("Error saving budget targets")}}async function er(){if(!L.store||!L.categoryId){P("Error: Store and category required"),setTimeout(()=>P(""),2e3);return}try{await (0,i.gS)((0,i.rJ)(n.db,"expenses"),{...L,createdAt:new Date().toISOString()}),N({date:new Date().toISOString().split("T")[0],store:"",amount:0,categoryId:"",notes:""}),await X(),P("✓ Expense added"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error adding expense:",e),P("Error adding expense")}}async function eo(e,t){try{await (0,i.mZ)((0,i.H9)(n.db,"expenses",e),t),await X(),v(null),P("✓ Expense updated"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error updating expense:",e),P("Error updating expense")}}async function ed(e){if(confirm("Delete this expense?"))try{await (0,i.kd)((0,i.H9)(n.db,"expenses",e)),await X(),P("✓ Expense deleted"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error deleting expense:",e),P("Error deleting expense")}}async function ea(){if(!_.source){P("Error: Source required"),setTimeout(()=>P(""),2e3);return}try{await (0,i.gS)((0,i.rJ)(n.db,"income"),{..._,createdAt:new Date().toISOString()}),G({date:new Date().toISOString().split("T")[0],source:"",amount:0}),await Y(),P("✓ Income added"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error adding income:",e),P("Error adding income")}}async function en(e,t){try{await (0,i.mZ)((0,i.H9)(n.db,"income",e),t),await Y(),f(null),P("✓ Income updated"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error updating income:",e),P("Error updating income")}}async function ei(e){if(confirm("Delete this income?"))try{await (0,i.kd)((0,i.H9)(n.db,"income",e)),await Y(),P("✓ Income deleted"),setTimeout(()=>P(""),2e3)}catch(e){console.error("Error deleting income:",e),P("Error deleting income")}}(0,d.useEffect)(()=>{t||e||r.push("/metrics/login")},[e,t,r]),(0,d.useEffect)(()=>{e&&U()},[e]);let es=e=>{var t;return(null==(t=l.find(t=>t.id===e))?void 0:t.name)||"Unknown"},el=x.reduce((e,t)=>e+t.amount,0),ec=u.reduce((e,t)=>e+t.amount,0),ep=ec-el,ex=Object.entries(x.reduce((e,t)=>{let r=t.categoryId;return e[r]||(e[r]={total:0,count:0,categoryName:es(r)}),e[r].total+=t.amount,e[r].count+=1,e},{})).map(e=>{let[t,r]=e;return{categoryId:t,...r,percentage:el>0?r.total/el*100:0}}).sort((e,t)=>t.total-e.total);return t||K?(0,o.jsx)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"40px 20px",textAlign:"center"},children:(0,o.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})}):e?(0,o.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"40px 20px"},children:[(0,o.jsx)("nav",{style:{marginBottom:"20px"},children:(0,o.jsx)(c(),{href:"/metrics",style:{color:"#0066cc"},children:"← Back to Metrics"})}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{marginBottom:"5px"},children:"Finance Dashboard"}),(0,o.jsx)("p",{style:{color:"var(--text-secondary)",margin:0},children:"Track and manage your finances"})]}),(0,o.jsx)("button",{onClick:()=>H(!J),style:{padding:"10px 20px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:J?"Hide Settings":"Settings"})]}),J&&(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)",marginBottom:"40px"},children:[(0,o.jsx)("h2",{style:{marginBottom:"20px"},children:"Categories & Budget Settings"}),(0,o.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,o.jsx)("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:"Expense Categories"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[(0,o.jsx)("input",{type:"text",value:w,onChange:e=>S(e.target.value),placeholder:"New category name",style:{flex:1,padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}}),(0,o.jsx)("button",{onClick:$,style:{padding:"8px 16px",background:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add"})]}),(0,o.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:l.map(e=>(0,o.jsxs)("div",{style:{background:"var(--card-bg)",padding:"8px 12px",borderRadius:"4px",border:"1px solid var(--border-color)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("span",{children:e.name}),(0,o.jsx)("button",{onClick:()=>ee(e.id),style:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",padding:"0 4px",fontSize:"16px"},title:"Delete category",children:"\xd7"})]},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:"Budget Targets"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"15px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:"500",marginBottom:"10px"},children:"Weekly"}),(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px"},children:"Income Target"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:k,onChange:e=>C(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px"},children:"Spend Cap"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:R,onChange:e=>B(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:"500",marginBottom:"10px"},children:"Monthly"}),(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px"},children:"Income Target"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:E,onChange:e=>T(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px"},children:"Spend Cap"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:A,onChange:e=>I(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:"500",marginBottom:"10px"},children:"Yearly"}),(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px"},children:"Income Target"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:z,onChange:e=>F(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px"},children:"Spend Cap"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:W,onChange:e=>D(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}})]})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"13px",marginBottom:"5px",fontWeight:"500"},children:"Target Savings Rate (0-1)"}),(0,o.jsx)("input",{type:"number",min:"0",max:"1",step:"0.01",value:O,onChange:e=>V(parseFloat(e.target.value)||0),style:{width:"200px",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)"}}),(0,o.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)",marginLeft:"10px"},children:"e.g., 0.4 = 40% savings"})]}),(0,o.jsx)("button",{onClick:et,style:{padding:"10px 20px",background:"#0066cc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Budget Settings"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"40px"},children:[(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[(0,o.jsx)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"5px"},children:"Total Income"}),(0,o.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#22c55e"},children:["Rs. ",ec.toFixed(2)]})]}),(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[(0,o.jsx)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"5px"},children:"Total Expenses"}),(0,o.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ef4444"},children:["Rs. ",el.toFixed(2)]})]}),(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[(0,o.jsx)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"5px"},children:"Net Balance"}),(0,o.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:ep>=0?"#22c55e":"#ef4444"},children:["Rs. ",ep.toFixed(2)]})]}),y&&y.weeklySpendCap>0&&(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[(0,o.jsx)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"5px"},children:"Weekly Budget"}),(0,o.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold"},children:[(el/y.weeklySpendCap*100).toFixed(0),"%"]}),(0,o.jsxs)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"5px"},children:["Cap: Rs. ",y.weeklySpendCap]})]})]}),y&&y.weeklySpendCap>0&&(0,o.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,o.jsx)("h2",{style:{marginBottom:"20px"},children:"Budget Visualization"}),(0,o.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,o.jsx)("span",{children:"Spending vs Cap"}),(0,o.jsxs)("span",{children:["Rs. ",el.toFixed(2)," / Rs. ",y.weeklySpendCap]})]}),(0,o.jsx)("div",{style:{width:"100%",height:"30px",background:"var(--card-bg)",borderRadius:"4px",overflow:"hidden",border:"1px solid var(--border-color)"},children:(0,o.jsx)("div",{style:{width:"".concat(Math.min(el/y.weeklySpendCap*100,100),"%"),height:"100%",background:el>y.weeklySpendCap?"#ef4444":"#22c55e",transition:"width 0.3s ease"}})})]}),y.targetSavingsRate>0&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,o.jsx)("span",{children:"Savings Rate Target"}),(0,o.jsxs)("span",{children:[(100*y.targetSavingsRate).toFixed(0),"%"]})]}),(0,o.jsx)("div",{style:{width:"100%",height:"30px",background:"var(--card-bg)",borderRadius:"4px",overflow:"hidden",border:"1px solid var(--border-color)"},children:(0,o.jsx)("div",{style:{width:"".concat(ec>0?Math.min((ec-el)/ec*100,100):0,"%"),height:"100%",background:"#3b82f6",transition:"width 0.3s ease"}})}),(0,o.jsxs)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"5px"},children:["Current: ",ec>0?((ec-el)/ec*100).toFixed(1):0,"%"]})]})]})]}),ex.length>0&&(0,o.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,o.jsx)("h2",{style:{marginBottom:"20px"},children:"Expenses by Category"}),(0,o.jsx)("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"8px",border:"1px solid var(--border-color)"},children:(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:ex.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"14px"},children:[(0,o.jsx)("span",{style:{fontWeight:"500"},children:e.categoryName}),(0,o.jsxs)("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[(0,o.jsxs)("span",{style:{color:"var(--text-secondary)",fontSize:"13px"},children:[e.count," ",1===e.count?"item":"items"]}),(0,o.jsxs)("span",{children:["Rs. ",e.total.toFixed(2)]}),(0,o.jsxs)("span",{style:{fontSize:"13px",color:"var(--text-secondary)",minWidth:"45px",textAlign:"right"},children:[e.percentage.toFixed(1),"%"]})]})]}),(0,o.jsx)("div",{style:{width:"100%",height:"24px",background:"var(--card-bg)",borderRadius:"4px",overflow:"hidden",border:"1px solid var(--border-color)"},children:(0,o.jsx)("div",{style:{width:"".concat(e.percentage,"%"),height:"100%",background:"hsl(".concat(137.5*e.categoryId.charCodeAt(0)%360,", 65%, 55%)"),transition:"width 0.3s ease",display:"flex",alignItems:"center",paddingLeft:"8px",fontSize:"12px",color:"white",fontWeight:"500"},children:e.percentage>10?"".concat(e.percentage.toFixed(1),"%"):""})})]},e.categoryId))})})]}),(0,o.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,o.jsx)("h2",{style:{marginBottom:"20px"},children:"Expenses"}),(0,o.jsx)("div",{style:{background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)",overflow:"auto"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{background:"var(--card-bg)",borderBottom:"2px solid var(--border-color)"},children:[(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left",whiteSpace:"nowrap"},children:"Date"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Store"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Category"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"right",whiteSpace:"nowrap"},children:"Amount"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Notes"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"center",whiteSpace:"nowrap"},children:"Actions"})]})}),(0,o.jsxs)("tbody",{children:[x.map(e=>(0,o.jsx)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:m===e.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"date",defaultValue:e.date,onBlur:t=>eo(e.id,{date:t.target.value}),style:{width:"140px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"text",defaultValue:e.store,onBlur:t=>eo(e.id,{store:t.target.value}),style:{width:"100%",minWidth:"100px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("select",{defaultValue:e.categoryId,onChange:t=>eo(e.id,{categoryId:t.target.value}),style:{width:"100%",minWidth:"120px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"},children:l.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))})}),(0,o.jsx)("td",{style:{padding:"12px",textAlign:"right"},children:(0,o.jsx)("input",{type:"number",step:"0.01",defaultValue:e.amount,onBlur:t=>eo(e.id,{amount:parseFloat(t.target.value)||0}),style:{width:"100px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",textAlign:"right"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"text",defaultValue:e.notes||"",onBlur:t=>eo(e.id,{notes:t.target.value}),style:{width:"100%",minWidth:"100px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px",textAlign:"center"},children:(0,o.jsx)("button",{onClick:()=>v(null),style:{padding:"4px 8px",background:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✓"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("td",{style:{padding:"12px",whiteSpace:"nowrap"},children:e.date}),(0,o.jsx)("td",{style:{padding:"12px"},children:e.store}),(0,o.jsx)("td",{style:{padding:"12px"},children:es(e.categoryId)}),(0,o.jsxs)("td",{style:{padding:"12px",textAlign:"right",whiteSpace:"nowrap"},children:["Rs. ",e.amount.toFixed(2)]}),(0,o.jsx)("td",{style:{padding:"12px",color:"var(--text-secondary)"},children:e.notes||"-"}),(0,o.jsxs)("td",{style:{padding:"12px",textAlign:"center",whiteSpace:"nowrap"},children:[(0,o.jsx)("button",{onClick:()=>v(e.id),style:{padding:"4px 8px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginRight:"5px"},children:"Edit"}),(0,o.jsx)("button",{onClick:()=>ed(e.id),style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Del"})]})]})},e.id)),(0,o.jsxs)("tr",{style:{borderTop:"2px solid var(--border-color)",background:"var(--card-bg)"},children:[(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"date",value:L.date||"",onChange:e=>N({...L,date:e.target.value}),style:{width:"140px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"text",placeholder:"Store",value:L.store||"",onChange:e=>N({...L,store:e.target.value}),style:{width:"100%",minWidth:"100px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsxs)("select",{value:L.categoryId||"",onChange:e=>N({...L,categoryId:e.target.value}),style:{width:"100%",minWidth:"120px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"},children:[(0,o.jsx)("option",{value:"",children:"Select"}),l.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",value:L.amount||0,onChange:e=>N({...L,amount:parseFloat(e.target.value)||0}),style:{width:"100px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",textAlign:"right"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"text",placeholder:"Notes",value:L.notes||"",onChange:e=>N({...L,notes:e.target.value}),style:{width:"100%",minWidth:"100px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px",textAlign:"center"},children:(0,o.jsx)("button",{onClick:er,style:{padding:"4px 12px",background:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},title:"Add expense",children:"+"})})]})]})]})})]}),(0,o.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,o.jsx)("h2",{style:{marginBottom:"20px"},children:"Income"}),(0,o.jsx)("div",{style:{background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)",overflow:"auto"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{background:"var(--card-bg)",borderBottom:"2px solid var(--border-color)"},children:[(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left",whiteSpace:"nowrap"},children:"Date"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Source"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"right",whiteSpace:"nowrap"},children:"Amount"}),(0,o.jsx)("th",{style:{padding:"12px",textAlign:"center",whiteSpace:"nowrap"},children:"Actions"})]})}),(0,o.jsxs)("tbody",{children:[u.map(e=>(0,o.jsx)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:j===e.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"date",defaultValue:e.date,onBlur:t=>en(e.id,{date:t.target.value}),style:{width:"140px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"text",defaultValue:e.source,onBlur:t=>en(e.id,{source:t.target.value}),style:{width:"100%",minWidth:"150px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px",textAlign:"right"},children:(0,o.jsx)("input",{type:"number",step:"0.01",defaultValue:e.amount,onBlur:t=>en(e.id,{amount:parseFloat(t.target.value)||0}),style:{width:"100px",padding:"4px",background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",textAlign:"right"}})}),(0,o.jsx)("td",{style:{padding:"12px",textAlign:"center"},children:(0,o.jsx)("button",{onClick:()=>f(null),style:{padding:"4px 8px",background:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"✓"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("td",{style:{padding:"12px",whiteSpace:"nowrap"},children:e.date}),(0,o.jsx)("td",{style:{padding:"12px"},children:e.source}),(0,o.jsxs)("td",{style:{padding:"12px",textAlign:"right",whiteSpace:"nowrap"},children:["Rs. ",e.amount.toFixed(2)]}),(0,o.jsxs)("td",{style:{padding:"12px",textAlign:"center",whiteSpace:"nowrap"},children:[(0,o.jsx)("button",{onClick:()=>f(e.id),style:{padding:"4px 8px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginRight:"5px"},children:"Edit"}),(0,o.jsx)("button",{onClick:()=>ei(e.id),style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Del"})]})]})},e.id)),(0,o.jsxs)("tr",{style:{borderTop:"2px solid var(--border-color)",background:"var(--card-bg)"},children:[(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"date",value:_.date||"",onChange:e=>G({..._,date:e.target.value}),style:{width:"140px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"text",placeholder:"Source",value:_.source||"",onChange:e=>G({..._,source:e.target.value}),style:{width:"100%",minWidth:"150px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)"}})}),(0,o.jsx)("td",{style:{padding:"12px"},children:(0,o.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",value:_.amount||0,onChange:e=>G({..._,amount:parseFloat(e.target.value)||0}),style:{width:"100px",padding:"4px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",textAlign:"right"}})}),(0,o.jsx)("td",{style:{padding:"12px",textAlign:"center"},children:(0,o.jsx)("button",{onClick:ea,style:{padding:"4px 12px",background:"#22c55e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},title:"Add income",children:"+"})})]})]})]})})]}),M&&(0,o.jsx)("p",{style:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:M.includes("Error")?"#ef4444":"#22c55e",color:"white",borderRadius:"4px",boxShadow:"0 4px 12px var(--shadow)",zIndex:1e3},children:M})]}):null}}},e=>{e.O(0,[992,138,619,477,441,255,358],()=>e(e.s=6072)),_N_E=e.O()}]);