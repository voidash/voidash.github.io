(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8582],{4558:(e,r,o)=>{Promise.resolve().then(o.bind(o,7048)),Promise.resolve().then(o.bind(o,6621))},7048:(e,r,o)=>{"use strict";o.d(r,{default:()=>d});var t=o(5155),i=o(63),n=o(216),l=o(6707),a=o(2619),s=o.n(a);function d(){let{user:e,loading:r}=(0,l.A)();(0,i.useRouter)();let o=(0,i.useSearchParams)().get("weekStart"),{weekStart:a,weekEnd:d,tasksMarkdown:p,targetWeight:c,primaryRelationshipActive:x,financeConceptApplied:g,portfolioReview:h,status:m,existingLogId:y,isSaving:u,taskStats:v,setWeekStart:b,setWeekEnd:j,setTasksMarkdown:f,setTargetWeight:k,setPrimaryRelationshipActive:w,setFinanceConceptApplied:B,setPortfolioReview:C,setManualWeekEnd:S,saveLog:R}=(0,n.b)((null==e?void 0:e.uid)||null,o||void 0);async function T(e){e.preventDefault(),await R()}return r?(0,t.jsx)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 20px",textAlign:"center"},children:(0,t.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})}):e?(0,t.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 20px"},children:[(0,t.jsxs)("nav",{style:{marginBottom:"20px",display:"flex",gap:"15px",alignItems:"center"},children:[(0,t.jsx)(s(),{href:"/metrics",style:{color:"#0066cc"},children:"← Back to Metrics"}),(0,t.jsx)("span",{style:{color:"var(--border-color)"},children:"|"}),(0,t.jsx)(s(),{href:"/metrics/weekly/logs",style:{color:"#0066cc",padding:"6px 12px",border:"1px solid #0066cc",borderRadius:"4px",textDecoration:"none",fontSize:"14px"},children:"View All Logs"})]}),(0,t.jsx)("h1",{style:{marginBottom:"10px"},children:y?"Edit Weekly Log":"Add Weekly Log"}),(0,t.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"30px"},children:"Set weekly goals and parameters"}),(0,t.jsxs)("form",{onSubmit:T,children:[(0,t.jsxs)("div",{style:{marginBottom:"20px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Week Starting"}),(0,t.jsx)("input",{type:"date",value:a,onChange:e=>{b(e.target.value),S(!1)},required:!0,style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Week Ending"}),(0,t.jsx)("input",{type:"date",value:d,onChange:e=>{j(e.target.value),S(!0)},required:!0,style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]})]}),d&&a&&(0,t.jsxs)("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"20px"},children:["Week duration: ",Math.ceil((new Date(d).getTime()-new Date(a).getTime())/864e5)+1," days"]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Weekly Goals & Plans (Markdown)"}),(0,t.jsx)("textarea",{value:p,onChange:e=>f(e.target.value),placeholder:"- [ ] Complete 3 learning artifacts this week\n- [ ] Publish 1 blog post\n- [ ] Apply new finance concept #finance-concept\n- [ ] Review investment portfolio #portfolio-review\n- [ ] Hit gym 3 times\n- [ ] Call family twice\n- [ ] Meet 3 new people",rows:12,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)",fontFamily:"monospace",fontSize:"14px",lineHeight:"1.5",resize:"vertical"}})]}),v&&(0,t.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"15px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:[(0,t.jsx)("strong",{children:"Stats Preview:"}),(0,t.jsxs)("div",{style:{marginTop:"10px",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px"},children:[(0,t.jsxs)("div",{children:["✓ ",v.completedTasks,"/",v.totalTasks," tasks completed"]}),"none"!==v.financeConceptApplied&&(0,t.jsxs)("div",{children:["\uD83D\uDCB0 Finance concept: ",v.financeConceptApplied]}),"none"!==v.portfolioReview&&(0,t.jsxs)("div",{children:["\uD83D\uDCCA Portfolio: ",v.portfolioReview]})]})]}),(0,t.jsx)("hr",{style:{margin:"30px 0",border:"none",borderTop:"1px solid var(--border-color)"}}),(0,t.jsx)("h3",{style:{marginBottom:"15px"},children:"Fitness"}),(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Target weight for end of week (kg)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:c,onChange:e=>k(parseFloat(e.target.value)||0),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),(0,t.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"Your target weight by the end of this week. Actual weight is calculated from daily log entries."})]}),(0,t.jsx)("hr",{style:{margin:"30px 0",border:"none",borderTop:"1px solid var(--border-color)"}}),(0,t.jsx)("h3",{style:{marginBottom:"15px"},children:"Finance"}),(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Finance concept applied"}),(0,t.jsxs)("select",{value:g,onChange:e=>B(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"},children:[(0,t.jsx)("option",{value:"none",children:"None"}),(0,t.jsx)("option",{value:"noted",children:"Noted"}),(0,t.jsx)("option",{value:"implemented",children:"Implemented"})]}),(0,t.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"Did you learn and apply a new finance concept this week?"})]}),(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Portfolio review"}),(0,t.jsxs)("select",{value:h,onChange:e=>C(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-secondary)",color:"var(--text-primary)"},children:[(0,t.jsx)("option",{value:"none",children:"None"}),(0,t.jsx)("option",{value:"reviewed",children:"Reviewed"}),(0,t.jsx)("option",{value:"ips_checked",children:"IPS Checked"})]}),(0,t.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"Did you review your investment portfolio or Investment Policy Statement?"})]}),(0,t.jsx)("hr",{style:{margin:"30px 0",border:"none",borderTop:"1px solid var(--border-color)"}}),(0,t.jsx)("h3",{style:{marginBottom:"15px"},children:"Relationship"}),(0,t.jsx)("div",{style:{marginBottom:"15px"},children:(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("input",{type:"checkbox",checked:x,onChange:e=>w(e.target.checked)}),(0,t.jsx)("span",{children:"In a primary relationship (guarantees min 60 score)"})]})}),(0,t.jsx)("button",{type:"submit",disabled:m.includes("Overlaps")||u,style:{width:"100%",padding:"12px",background:m.includes("Overlaps")||u?"#999":"#0066cc",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"500",cursor:m.includes("Overlaps")||u?"not-allowed":"pointer",marginTop:"20px"},children:y?"Update Weekly Log":"Save Weekly Log"}),m&&(0,t.jsx)("p",{style:{marginTop:"15px",textAlign:"center",color:m.includes("Error")||m.includes("Overlaps")?"#ef4444":"#22c55e"},children:m})]})]}):(0,t.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 20px"},children:[(0,t.jsx)("h1",{style:{marginBottom:"10px"},children:"Authentication Required"}),(0,t.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:"You must be logged in to log weekly metrics."}),(0,t.jsx)(s(),{href:"/metrics/login",style:{color:"#0066cc",fontSize:"16px"},children:"→ Go to Login"})]})}}},e=>{e.O(0,[2992,7138,2619,1477,8039,8441,1255,7358],()=>e(e.s=4558)),_N_E=e.O()}]);